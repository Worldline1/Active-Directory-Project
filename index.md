---
layout: default
---

# Introduction
![AD Diagram](AD-Diagram.png)
This project simulates a small enterprise network environment designed for cybersecurity monitoring and detection testing.

The lab consists of four virtual machines connected through a custom NAT network:
- **Ubuntu Server** running Splunk Enterprise (SIEM)
- **Windows Server 2022** configured as an Active Directory Domain Controller
- **Windows 10** endpoint joined to the domain
- **Kali Linux** used for attack simulation

The objective is to monitor and analyze security events generated by endpoint activity and attack scenarios. Logs are collected using **Sysmon** and forwarded to Splunk via the **Splunk Universal Forwarder**.

Attack simulations are performed using **Remote Desktop Protocol (RDP)** and **Atomic Red Team**, allowing for detection validation and identification of visibility gaps.

## üñ•Ô∏è Environments Used

- **Ubuntu Server 24.04.2** ‚Äì Hosts Splunk Enterprise for log collection and analysis.

- **Windows Server 2022** ‚Äì Configured as the Active Directory Domain Controller (AD DC), managing domain users and machines.

- **Windows 10 Pro** ‚Äì Acts as the target endpoint, joined to the domain. Sysmon and Splunk Universal Forwarder are installed to collect and forward event logs to the Splunk server.  
  Atomic Red Team is also deployed on this machine to simulate adversarial behavior and test detection coverage.

- **Kali Linux** ‚Äì Used as the attacker machine to simulate intrusions and generate activity on the target system.

All machines are connected through a custom NAT network, allowing isolated communication between them for testing.

## üñ•Ô∏è Configurations

| Machine        | Role                     | OS                     | IP Address         |
|----------------|--------------------------|------------------------|--------------------|
| Ubuntu Server  | Splunk Enterprise (SIEM) | Ubuntu Server 24.04.2 | 192.168.10.10      |
| Windows Server | Active Directory (DC)    | Windows Server 2022   | 192.168.10.7       |
| Windows 10     | Target PC                | Windows 10 Pro        | 192.168.10.100     |
| Kali Linux     | Attacker                 | Debian-based Linux    | 192.168.10.250     |

## ‚öôÔ∏è Lab Setup

The virtual environment was created using [VirtualBox](https://www.virtualbox.org/), where four separate virtual machines were installed using official ISO images:

- **Windows 10 Pro** ‚Äì [Download](https://www.microsoft.com/fr-fr/software-download/windows10)
- **Kali Linux** ‚Äì [Download](https://www.kali.org/get-kali/#kali-platforms)
- **Windows Server 2022** ‚Äì [Download](https://www.microsoft.com/fr-fr/evalcenter/download-windows-server-2022)
- **Ubuntu Server 24.04.2** ‚Äì [Download](https://ubuntu.com/download/server)

After installation, a **custom NAT network** named `AD Project` was created using VirtualBox‚Äôs network management settings. The network uses the subnet `192.168.10.0/24`. All virtual machines were connected to this isolated NAT network to allow internal communication while remaining disconnected from the external internet.

This setup replicates a small enterprise environment for controlled simulation of attacks, event logging, and centralized analysis.

## ‚öôÔ∏è Ubuntu Server Splunk Setup

After installing the Ubuntu Server VM, the first step is to assign a **static IP address** to prevent the server from receiving a different IP on every DHCP lease renewal. This ensures consistent connectivity within the lab network.

To verify the current IP address, run:

```bash
# bash
ip a
```
Ubuntu Server 24.04 uses Netplan for network configuration. The typical Netplan config file (/etc/netplan/00-installer-config.yaml) might not exist by default. If missing, create it manually:
```bash
# bash
sudo nano /etc/netplan/00-installer-config.yaml
```
Paste the following configuration to assign a static IP address (192.168.10.10/24) and set the default gateway and DNS:
```yaml
# 00-installer-config.yaml
# yaml
network:
  ethernets:
    enp0s3:
      dhcp4: no
      addresses: [192.168.10.10/24]   # Static IP address
      nameservers:
        addresses: [8.8.8.8]           # DNS server (Google DNS)
      routes:
        - to: default
          via: 192.168.10.1            # Default gateway
  version: 2
```
Save the file and apply the changes with:
```bash
# bash
sudo netplan apply
```
The server should now use the static IP 192.168.10.10 on the NAT network subnet. We can check using `ip a`

